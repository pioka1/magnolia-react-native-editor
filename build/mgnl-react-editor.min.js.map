{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///external \"react\"","webpack:///./node_modules/prop-types/index.js","webpack:///./node_modules/@magnolia/template-annotations/index.js","webpack:///./node_modules/@magnolia/template-annotations/build/mgnl-service.min.js","webpack:///./node_modules/prop-types/factoryWithThrowingShims.js","webpack:///./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack:///./src/util/EditorContext.js","webpack:///./src/util/constants.js","webpack:///./src/util/ComponentHelper.js","webpack:///./src/util/EditorContextHelper.js","webpack:///./src/component/EditablePage/EditablePage.js","webpack:///./src/component/EditableComponent/EditableComponent.js","webpack:///./src/component/EditableArea/EditableArea.js"],"names":["root","factory","exports","module","require","define","amd","a","i","this","__WEBPACK_EXTERNAL_MODULE__0__","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","e","default","iterator","constructor","content","concat","availableComponents","keys","map","id","join","showAddButton","maxComponents","componentCount","activationStatus","Date","getTime","dialog","u","type","label","inherit","optional","createdAreaNode","showNewComponentArea","description","getAreaCommentString","areas","getComponentCommentString","getPageCommentString","forEach","Array","isArray","toString","next","done","push","length","return","TypeError","f","Boolean","inEditor","refresh","window","parent","mgnlRefresh","inEditorPreview","location","hash","endsWith","frameElement","className","includes","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","props","propName","componentName","propFullName","secret","err","Error","getShim","isRequired","ReactPropTypes","array","bool","func","number","string","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","EditorContext","React","createContext","EditorProvider","Provider","Consumer","CLOSED_AREA_COMMENT","CLOSED_COMPONENT_COMMENT","TEMPLATE_ID_PROP","componentHelper","getRenderedComponent","componentContent","componentMappings","buildForMagnolia","constants","createElement","Fragment","componentClass","getComponentProperties","addComment","openComment","closeComment","document","openCommentElement","createComment","insertBefore","firstChild","closeCommentElement","appendChild","classnames","classes","arg","item","itemType","metadata","startsWith","EditorContextHelper","EditablePage","addCloseComment","addOpenComment","remove","contextValue","getContextValue","pageTemplateDefinition","templateDefinitions","TemplateAnnotations","ComponentHelper","config","isDevMode","process","children","MobileWrapper","pageComponent","hasPageComponent","ref","PureComponent","EditableComponent","removeRefs","context","openNode","closeNode","templateId","openComponentComment","closedComponentComment","parentNode","component","EditableArea","parentTemplateId","pageTemplateId","getParentTemplateId","nextSibling","componentNames"],"mappings":"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","file":"mgnl-react-editor.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"react\")) : factory(root[\"react\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n    module.exports = require('./build/mgnl-service.min.js');\n} else {\n    module.exports = require('./build/mgnl-service.js');\n}\n","!function(t,n){if(\"object\"==typeof exports&&\"object\"==typeof module)module.exports=n();else if(\"function\"==typeof define&&define.amd)define([],n);else{var e=n();for(var o in e)(\"object\"==typeof exports?exports:t)[o]=e[o]}}(this,(function(){return function(t){var n={};function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},e.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&\"object\"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:t}),2&n&&\"string\"!=typeof t)for(var r in t)e.d(o,r,function(n){return t[n]}.bind(null,r));return o},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p=\"\",e(e.s=0)}([function(t,n,e){t.exports=e(1)},function(t,n,e){\"use strict\";function o(t){return(o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function r(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if(!(Symbol.iterator in Object(t))&&\"[object Arguments]\"!==Object.prototype.toString.call(t))return;var e=[],o=!0,r=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(o=(a=u.next()).done)&&(e.push(a.value),!n||e.length!==n);o=!0);}catch(t){r=!0,i=t}finally{try{o||null==u.return||u.return()}finally{if(r)throw i}}return e}(t,n)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}e.r(n),e.d(n,\"TemplateAnnotations\",(function(){return i})),e.d(n,\"EditorContextHelper\",(function(){return a}));var i=function(){var t={content:function(t,n){var e=t?t[n]:null;return null!=e?\"website:\".concat(e):\"\"},availableComponents:function(t,n,e){if(!e||!e[n])return\"\";return Object.keys(e[n]).map((function(t){return e[n][t].id})).join(\",\")},showAddButton:function(t,n,e,o){if(!e||null==e.maxComponents||!o||null==o.componentCount)return!0;return o.componentCount<e.maxComponents},activationStatus:function(t){if(!t||!t[\"mgnl:activationStatus\"]||\"false\"===t[\"mgnl:activationStatus\"])return 0;var n=t[\"mgnl:lastModified\"]?new Date(t[\"mgnl:lastModified\"]):null,e=t[\"mgnl:lastActivated\"]?new Date(t[\"mgnl:lastActivated\"]):null;return n&&e&&n.getTime()>e.getTime()?1:2}},n={content:[\"@path\",\"\"],dialog:[\"dialog\",\"\",u]},e={name:[\"@name\",\"\"],content:n.content,dialog:n.dialog,availableComponents:[\"availableComponents\",[]],type:[\"type\",\"list\",u],label:[\"title\",\"\",u],inherit:[\"inheritance\",!1,u],optional:[\"optional\",!1,u],createdAreaNode:[\"createAreaNode\",!0,u],showAddButton:[\"maxComponents\",!0],showNewComponentArea:[null,!0],description:[\"description\",\"\",u],activationStatus:[null,0]},i={content:n.content,dialog:n.dialog,label:[\"title\",\"\",u],description:[\"description\",\"\",u],activationStatus:[null,0]};return{getAreaCommentString:function(t,n,o){var r={componentCount:o},i=n&&n.areas?n.areas[t[\"@name\"]]:{};return\"cms:area \".concat(a(t,e,i,r))},getComponentCommentString:function(t,n){return\"cms:component \".concat(a(t,i,n))},getPageCommentString:function(t,e){return\"cms:page \".concat(a(t,n,e))}};function a(n,e,o,i){var a=[];return Object.keys(e).forEach((function(u){var l=r(e[u],3),c=l[0],f=l[1],s=l[2],p=t[u],d=f;p?d=p(n,c,o,i):s?d=s(o,c,f):null!=n&&null!==c&&(d=n[c]||\"\");var m={key:u,value:d};(\"string\"!=typeof m.value||m.value)&&a.push(\"\".concat(u,'=\"').concat(m.value,'\"'))})),a.join(\" \")}function u(t,n,e){var r=t&&\"object\"===o(t)&&n?t[n]:null;return r=null==r?e:r,null!=(r=\"boolean\"==typeof e?Boolean(r):r)?r:e}}();var a=function(){return{inEditor:n,refresh:function(){n()&&window.parent.mgnlRefresh&&window.parent.mgnlRefresh()},inEditorPreview:function(){return t()&&window.parent.location.hash.endsWith(\":view\")}};function t(){return\"undefined\"!=typeof window&&Boolean(window.frameElement&&window.frameElement.className.includes(\"gwt-Frame\"))}function n(){return t()&&window.parent.location.hash.endsWith(\":edit\")}}()}])}));\n//# sourceMappingURL=mgnl-service.min.js.map","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","import React from 'react';\n\nconst EditorContext = React.createContext();\nexport const EditorProvider = EditorContext.Provider;\nexport const EditorConsumer = EditorContext.Consumer;\nexport default EditorContext;\n","export default {\r\n    CLOSED_AREA_COMMENT: '/cms:area',\r\n    CLOSED_COMPONENT_COMMENT: '/cms:component',\r\n    TEMPLATE_ID_PROP: 'mgnl:template'\r\n};\r\n","import React from 'react';\nimport constants from './constants';\n\nfunction componentHelper() {\n    return {\n        getRenderedComponent, getComponentProperties, addComment, classnames\n    };\n\n    function getRenderedComponent(componentContent, componentMappings, buildForMagnolia) {\n        if (!componentContent || !componentMappings || !componentMappings[componentContent[constants.TEMPLATE_ID_PROP]]) {\n            return buildForMagnolia ? React.createElement('div') : React.createElement(React.Fragment);\n        }\n\n        const componentClass = componentMappings[componentContent[constants.TEMPLATE_ID_PROP]];\n\n        return React.createElement(componentClass, getComponentProperties(componentContent));\n    }\n\n    function getComponentProperties(componentContent) {\n        if (!componentContent || typeof componentContent !== 'object') {\n            return {};\n        }\n        const props = {};\n        const metadata = {};\n        Object.keys(componentContent).forEach(key => {\n            if (key.startsWith('@') || key.startsWith('mgnl:') || key.startsWith('jcr:')) {\n                metadata[key] = componentContent[key];\n            } else {\n                props[key] = componentContent[key];\n            }\n        });\n        props.metadata = metadata;\n        return props;\n    }\n\n    function addComment(element, openComment, closeComment) {\n        if (typeof document === 'undefined' || !element) {\n            return;\n        }\n        if (openComment) {\n            const openCommentElement = document.createComment(openComment);\n            element.insertBefore(openCommentElement, element.firstChild);\n        }\n        if (closeComment) {\n            const closeCommentElement = document.createComment(closeComment);\n            element.appendChild(closeCommentElement);\n        }\n    }\n\n    function classnames(...arg) {\n        const classes = [];\n        arg.forEach(item => {\n            if (item == null) {\n                return;\n            }\n            const itemType = typeof item;\n            if (itemType === 'string' || itemType === 'number') {\n                classes.push(item);\n            } else if (Array.isArray(item) && item.length) {\n                classes.push(classnames(...item));\n            } else if (itemType === 'object') {\n                Object.keys(item).forEach(key => {\n                    if (item[key]) {\n                        classes.push(key);\n                    }\n                });\n            }\n        });\n        return classes.join(' ');\n    }\n}\n\nexport default componentHelper();\n","import { EditorContextHelper } from '@magnolia/template-annotations';\r\n\r\nexport default EditorContextHelper;\r\n","import React from 'react';\nimport { TemplateAnnotations } from '@magnolia/template-annotations';\nimport PropTypes from 'prop-types';\n\nimport {\n    EditorProvider, ComponentHelper, constants, EditorContextHelper\n} from '../../util';\n\nclass EditablePage extends React.PureComponent {\n    static propTypes = {\n        children: PropTypes.elementType,\n        content: PropTypes.object,\n        templateDefinitions: PropTypes.object,\n        config: PropTypes.shape({\n            componentMappings: PropTypes.object\n        }),\n        buildForMagnolia: PropTypes.bool,\n        MobileWrapper: PropTypes.any\n    }\n\n    static defaultProps = {\n        children: null,\n        content: null,\n        templateDefinitions: null,\n        config: {\n            componentMappings: {}\n        },\n        buildForMagnolia: false,\n        MobileWrapper: React.Fragment\n    }\n\n    componentDidMount() {\n        this.addCloseComment();\n        this.addOpenComment();\n        EditorContextHelper.refresh();\n    }\n\n    // eslint-disable-next-line camelcase\n    UNSAFE_componentWillUpdate() {\n        this.node.firstChild.remove();\n    }\n\n    componentDidUpdate() {\n        this.addOpenComment();\n        EditorContextHelper.refresh();\n    }\n\n    addOpenComment() {\n        const contextValue = this.getContextValue();\n        if (!this.node) {\n            return;\n        }\n        const pageTemplateDefinition = contextValue.content && contextValue.templateDefinitions\n            ? contextValue.templateDefinitions[contextValue.content[constants.TEMPLATE_ID_PROP]] : null;\n        const openComment = TemplateAnnotations.getPageCommentString(contextValue.content, pageTemplateDefinition);\n        ComponentHelper.addComment(this.node, openComment);\n    }\n\n    addCloseComment() {\n        ComponentHelper.addComment(this.node, '/cms:page');\n    }\n\n    hasPageComponent() {\n        const { content, componentMappings } = this.getContextValue();\n        return content && componentMappings && componentMappings[content[constants.TEMPLATE_ID_PROP]];\n    }\n\n    getContextValue() {\n        const { templateDefinitions, content, config } = this.props;\n        const { componentMappings } = config;\n        const isDevMode = process.env.NODE_ENV === 'development';\n\n        const contextValue = {\n            templateDefinitions,\n            componentMappings,\n            content,\n            isDevMode\n        };\n        return contextValue;\n    }\n\n    render() {\n        const { children, buildForMagnolia, MobileWrapper } = this.props;\n        const contextValue = this.getContextValue();\n        const pageComponent = this.hasPageComponent()\n            ? ComponentHelper.getRenderedComponent(contextValue.content, contextValue.componentMappings, buildForMagnolia)\n            : children;\n\n        if (buildForMagnolia) {\n            // NOTE: We need a div tag as a parent node for Page's child HTML. It will cause an issue if we\n            // don't have a parent node.\n            return (\n                <EditorProvider value={contextValue}>\n                    <div ref={node => this.node = node} key={contextValue.content['@id']}>\n                        {pageComponent}\n                    </div>\n                </EditorProvider>\n            );\n        }\n\n        return (\n            <EditorProvider value={contextValue}>\n                <MobileWrapper>{pageComponent}</MobileWrapper>\n            </EditorProvider>\n        );\n    }\n}\n\nexport default EditablePage;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { TemplateAnnotations } from '@magnolia/template-annotations';\nimport {\n    EditorContext, constants, ComponentHelper, EditorContextHelper\n} from '../../util';\n\nexport default class EditableComponent extends React.PureComponent {\n    static propTypes = {\n        content: PropTypes.object.isRequired,\n        buildForMagnolia: PropTypes.bool,\n        MobileWrapper: PropTypes.any\n    };\n\n    static defaultProps = {\n        buildForMagnolia: false,\n        MobileWrapper: React.Fragment\n    }\n\n    constructor(props) {\n        super(props);\n        this.constants = constants;\n    }\n\n    componentDidMount() {\n        this.addComment();\n        this.removeRefs();\n    }\n\n    static contextType = EditorContext;\n\n    addComment() {\n        const { isDevMode } = this.context;\n        const { content } = this.props;\n        if (!this.openNode || !this.closeNode || (!isDevMode && !EditorContextHelper.inEditor())) {\n            return;\n        }\n        const templateId = content[constants.TEMPLATE_ID_PROP];\n        const { templateDefinitions: allDefinitions } = this.context;\n        const templateDefinitions = allDefinitions[templateId];\n        const openComponentComment = TemplateAnnotations.getComponentCommentString(content, templateDefinitions);\n        const closedComponentComment = this.constants.CLOSED_COMPONENT_COMMENT;\n        this.openNode.parentNode.insertBefore(document.createComment(openComponentComment), this.openNode);\n        this.closeNode.parentNode.insertBefore(document.createComment(closedComponentComment), this.closeNode);\n    }\n\n    removeRefs() {\n        if (!this.openNode || !this.closeNode) {\n            return;\n        }\n        this.openNode.remove();\n        this.closeNode.remove();\n    }\n\n    render() {\n        const { content, buildForMagnolia, MobileWrapper } = this.props;\n        const { componentMappings } = this.context;\n        const component = ComponentHelper.getRenderedComponent(content, componentMappings, buildForMagnolia);\n\n        if (buildForMagnolia) {\n            return (\n                <>\n                    <div ref={node => this.openNode = node} />\n                    {component}\n                    <div ref={node => this.closeNode = node} />\n                </>\n            );\n        }\n\n        return (\n            <MobileWrapper>{component}</MobileWrapper>\n        );\n    }\n}\n","import React from 'react';\nimport { TemplateAnnotations } from '@magnolia/template-annotations';\nimport PropTypes from 'prop-types';\n\nimport { EditableComponent } from '../EditableComponent';\nimport {\n    EditorContext, constants, EditorContextHelper, ComponentHelper\n} from '../../util';\n\nclass EditableArea extends React.PureComponent {\n    static propTypes = {\n        content: PropTypes.object.isRequired,\n        parentTemplateId: PropTypes.string,\n        className: PropTypes.any,\n        buildForMagnolia: PropTypes.bool,\n        MobileWrapper: PropTypes.any\n    };\n\n    static defaultProps = {\n        parentTemplateId: null,\n        className: null,\n        buildForMagnolia: false,\n        MobileWrapper: React.Fragment\n    }\n\n    constructor(props) {\n        super(props);\n        this.constants = constants;\n    }\n\n    componentDidMount() {\n        if (!this.context) {\n            throw new Error('EditableArea component must be wrapped inside EditablePage component.');\n        }\n        this.addComment();\n    }\n\n    static contextType = EditorContext;\n\n    getParentTemplateId() {\n        const { parentTemplateId } = this.props;\n        const { content } = this.context;\n\n        return parentTemplateId || content[constants.TEMPLATE_ID_PROP];\n    }\n\n    addComment() {\n        const { isDevMode } = this.context;\n        if (!this.node || (!isDevMode && !EditorContextHelper.inEditor())) {\n            return;\n        }\n        const { content } = this.props;\n        const pageTemplateId = this.getParentTemplateId();\n        const { templateDefinitions: allDefinitions } = this.context;\n        const templateDefinitions = allDefinitions[pageTemplateId];\n        const openComment = TemplateAnnotations.getAreaCommentString(content, templateDefinitions);\n        this.node.parentNode.insertBefore(document.createComment(openComment), this.node);\n        this.node.parentNode.insertBefore(document.createComment(this.constants.CLOSED_AREA_COMMENT), this.node.nextSibling);\n    }\n\n    render() {\n        const {\n            content, className, buildForMagnolia, MobileWrapper\n        } = this.props;\n        const componentNames = content['@nodes'];\n\n        if (buildForMagnolia) {\n            return (\n                <div ref={node => this.node = node} key={content['@id']} className={ComponentHelper.classnames(className)}>\n                    {\n                        componentNames.map((name) => <EditableComponent key={content[name]['@id']} content={content[name]} buildForMagnolia />)\n                    }\n                </div>\n            );\n        }\n\n        return (\n            <MobileWrapper key={content['@id']} className={ComponentHelper.classnames(className)}>\n                {\n                    componentNames.map((name) => (\n                        <EditableComponent key={content[name]['@id']} content={content[name]} buildForMagnolia={buildForMagnolia} MobileWrapper={MobileWrapper} />\n                    ))\n                }\n            </MobileWrapper>\n        );\n    }\n}\n\nexport default EditableArea;\n"],"sourceRoot":""}